{% extends "base.html.twig" %}

{% block body %}
	<div class="container col-md-12">
		<div class="col-md-12 d-flex justify-content-center">
			<h1>Page de don</h1>
		</div>
		<div class="col-md-12 d-flex justify-content-center">
			<p>Faire un don pour la construction du site ?</p>
		</div>
	</div>
	<div class="col-md-12 d-flex justify-content-center">
		<div class="card bg-dark text-white col-md-4">
		<img class="card-img" src="{{asset('build/images/card/23.jpeg')}}" alt="Card image">
			<div class="card-img-overlay">
			<h5 class="card-title">Card title</h5>
			<p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
			<p class="card-text">Last updated 3 mins ago</p>
			</div>
		</div>
	</div>
	<div id="donation">

		<Donation/>

	</div>

{% endblock %}

{% block javascripts %}

	{{ parent() }}

	{{ encore_entry_script_tags('donation')}}

<script src="https://js.stripe.com/v3/"></script>
<script src="{{ asset('/build/js/stripe.js')}}"></script>
<script>



let stripe = Stripe(`pk_test_cveopxQHO6zY0MkHmtnOUcX700qOCC5IgP`),
    elements = stripe.elements(),
    card = undefined;

export default {
  mounted: function () {
    card = elements.create('card');
    card.mount(this.$refs.card);
  }
  purchase: function () {
    stripe.createToken(card).then(function(result) {
     if (result.error) {
      self.hasCardErrors = true;
      self.$forceUpdate(); // Forcing the DOM to update so the Stripe Element can update.
      return;
    }
    });
  }
};

let style = {
  base: {
    border: '1px solid #D8D8D8',
    borderRadius: '4px',
    color: "#000",
  },

  invalid: {
    // All of the error styles go inside of here.
  }

};
card = elements.create('card', style);



let form = document.getElementById("payment-form");
let price = document.getElementById("price").value;
let nbCard = document.getElementById("cardNumber").value;
let dateMonth = document.getElementById("expityMonth").value;
let dateYear = document.getElementById("expityYear").value;
let cvc = document.getElementById("cvCode").value;

 form.addEventListener("submit", function verif(e) {

		  e.preventDefault();
		  
if(price){



}

if(nbCard){


console.log(nbCard);

}
if(dateMonth){


console.log(dateMonth);

}

if(dateYear){


console.log(dateYear);

}

if(cvc){


console.log(cvc);

}


   });


</script>
{% endblock %}
